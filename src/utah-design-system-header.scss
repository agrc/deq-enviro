.utah-design-system {
  @apply font-sans;

  &.main-menu__outer,
  &.utds-header-mobile-menu {
    display: none;
  }

  &.utds-header {
    .visually-hidden {
      @apply hidden;
    }
    @apply relative box-border flex h-[60px] items-center justify-start border-b border-gray-300 px-4 py-2;
    @apply md:h-[78px] md:px-6 md:py-3;
    h1 {
      @apply relative m-0 flex h-full items-center text-4xl;
      .utah-logo-svg {
        @apply relative mb-[-4px] h-full;
        svg {
          @apply block h-full w-auto fill-primary align-middle font-sans text-sm font-normal;
        }
      }
      .utds-logo-vert-line {
        @apply my-0 ml-4 mr-2 block h-4/5 w-[1px] bg-gray-600;
      }
      .utds-title-wrapper {
        @apply flex h-full flex-1 items-center gap-2 px-2 text-2xl font-semibold text-gray-600 md:text-3xl;
        .utds-title-wrapper__logo {
          @apply flex h-full max-h-full w-auto max-w-full items-center;
          img {
            @apply max-w-none;
          }
          img,
          svg {
            @apply h-full max-h-full w-auto;
          }
        }
        .utds-title-wrapper__title {
          @apply leading-[.8] text-gray-600;
        }
      }
    }
    .utds-citizen-experience-wrapper {
      @apply hidden flex-1 justify-end md:flex;
      .utds-action-items-wrapper {
        @apply mr-2 flex gap-2;
        .utds-header-action-item {
          @apply relative flex items-center;
          .icon-button {
            @apply relative flex min-h-[2.25em] min-w-[2.25em] cursor-pointer items-center justify-center rounded-full border-2 border-transparent bg-white p-0 text-base text-gray-600;
            &:hover {
              @apply bg-gray-100;
            }
            .utds-icon-before-waffle {
              @apply block rounded-full leading-3;
              &::before {
                @apply m-0 inline-block font-utds text-[17px] content-["B"];
              }
            }
          }
          .popup__wrapper {
            @apply absolute left-0 top-0 z-[100];
            transition: opacity 0.1s ease-in-out;
            &.popup__wrapper--hidden {
              @apply pointer-events-none opacity-0;
            }
            &.popup__wrapper--visible {
              @apply opacity-100;
            }
            .popup__content {
              transform-origin: top;
              @apply box-border min-w-[180px] rounded-md border border-gray-400 bg-white p-3 shadow-lg;
              transition: transform 0.1s ease-in-out;
              .popup__arrow {
                background: inherit;
                @apply invisible z-10 h-[9px] w-[9px];
              }
              .vertical-menu {
                @apply m-0 list-none p-0 leading-7;
                .vertical-menu__title {
                  @apply rounded-full;
                  a,
                  button {
                    @apply relative my-1 box-border flex w-full justify-start rounded-full border-none px-4 py-1 text-left text-sm text-gray-600;
                    &:hover {
                      @apply bg-gray-100 text-primary shadow-none;
                    }
                    .utds-icon-after-external-link::after {
                      @apply ml-1 font-utds text-xs content-['A'];
                    }
                  }
                }
              }
            }
            &[data-popper-placement^='bottom'] .popup__arrow {
              @apply top-[-5px];
              &::before {
                background: inherit;
                @apply visible absolute h-[9px] w-[9px] rotate-45 border-l border-t border-l-gray-400 border-t-gray-400 content-[''];
              }
            }
          }
          .tooltip__wrapper {
            @apply z-50 bg-transparent;
            &.tooltip__wrapper--visible {
              @apply opacity-100;
            }
            &.tooltip__wrapper--hidden {
              @apply pointer-events-none opacity-0;
            }
            .tooltip__content {
              @apply box-border rounded-md bg-gray-700 px-2 text-white shadow-md;
              .tooltip__arrow {
                @apply visible top-[-3px] h-[6px] w-[6px];
                &::before {
                  @apply visible absolute h-[6px] w-[6px] rotate-45 bg-gray-700 content-[''];
                }
              }
            }
          }
        }
      }
    }
  }
}
